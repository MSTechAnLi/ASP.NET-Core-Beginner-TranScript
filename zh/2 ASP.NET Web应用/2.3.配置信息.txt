嗨，朋友们，我们要谈一谈配置了
但是在做之前，上一个错误还没有完成，我想解决这个问题
这有点烦人
如果你看一下 Razor ，我这样做其实并不正确
我现在不是很有思路，我在 Razor 页面里想尝试通过数学公式来解决这个问题
我一直得到这个500错误，这是你在使用环境中经常会遇到的那种错误
这很烦人可怕，并且对我来说并没有什么帮助，是吗？
我现在正在开发中
因为在这里启动我们说过，如果环境是在开发下会显示这个开发者标识页
以后会讨论如何从开发转到使用环境，但我只想简单地说一下这个事情
就像以前一样，当我们评论开始一个 Web 应用程序，而是改回到一个控制台应用程序
我想要做的是确保这个 DeveloperExceptionPage 能被看到，对吗？
我想看到它，因为我不想要500错误，我想要一个真正的错误
我想知道发生了什么事
所以通过删除该行，应该能够看到该错误
现在，正确的做法是切换到开发模式，但我们稍后来看它好吗？
回到这里，刷新
现在我获取了一个开发页面
你不想在使用环境中看到这个
但它向我展示了这一点，这是无效的，这不是有效的 Razor 它给了我一行代码
所以现在我知道发生什么了
回到这里
你能回到你的主页吗？
如果你点击 + 按钮
好的，给我一点背景
它在页面中的位置
因为如果它是成千上万行的话，我可能不知道它到底在哪里
 -好吧， -好的
所以, 我不会在那里做我的 2+2 我会输入 @ 加上大括号
做一个 2+2 的变量，然后这边改成 i pm
太棒了！
所以我在这里犯了一个错误
忘记加入 var
它应该给你一个错误
应该说我不存在并告诉我在哪一行
所以它正在编译 Razor 页面，第二次刷新一下
 -有趣 -好提醒
这是一个很好的提醒
所以我刚才是偷懒了
稍后我们将了解到的是如何设置这个环境以使其处于开发阶段，因此不用在意这一行了
所以出于好奇，这不是人们想要在实践中做的事情吗？
就像通过在他们的代码中无处不在的存在 C# 一样？
这取决于，这点很好
所以我们稍后再谈一点关于 Razor 页面的责任，以及页面模型或代码背后的责任
在视图中进行计算是可以的，如果它们是基于视图的计算，而不是业务逻辑的话
//例如，我不认为我想从负责的角度来计算税率和购买价值
//但是当然，我可以切断字符串并做不同类型的东西，因此可以在这里注入一点C＃
更重要的是它能够为团队的其他成员维护
所以我们早些时候谈过配置服务和配置之间的区别
恐怕我们会插入另一个听起来像配置的词
我知道，它就像是构造，配置，配置多一点，构造是一点点
那是软件工程，是吗？
这些主要是配置和运行
是的，他们都有相同的名字，所以是的
所以这个模块的配置，我们在这方面配置了什么？
所以我想告诉你如何将配置添加到应用程序中
这意味着像交换机，通过选项来为你的应用配置
这与设置服务不同
 -确实 -好吧，好吧
你打开了嘛，我们是否在启动？
我们正在启动
 -好的 - 我们叫它 Beyonce，这可能会让人们觉得奇怪
也是哈，我们还应该叫它 Beyonce 吗？
我们可能应该将其改回到启动阶段，因为我们不想失去工作
让我们把它改回
好吧，我们在启动类上
很酷，我们希望从配置文件中提取信息
 -来做吧 -配置文件在哪里？
在 iconfiguration
是的，但名称，文件本身，应用程序的设置
你实际上不得不添加，你的意思是往你的应用程序中添加 json ？
那是你在找什么？
你的应用设置正确，所以我们先做
appsettings.json
这是应用设置的默认名称
现在我可以把任何东西放在这里，
只要它是json就可以了，无论我想要的配置信息是什么？
我们会收到一些消息
是的，它可以像来自 Beehive 获知 Hello 的友好消息
是的，这是一个问候
 -在配置里 -你配置它
真的可以是特定于应用程序的任意的一对名称值
确实，所以你也可以在那里登录，你不可以吗？
可以，稍后我们会看到我们将拥有日志级别
它可能会有一个地方放置连接字符串和所有类型的东西
我们将讨论用户秘密的去向，连接字符串和非秘密事物的区别
因此，仅供参考的人将会看到这一点，当我使用应用程序设置时，我一直主要用它来配置我的数据库
好的，这取决于数据库的配置是否是秘密
这是一个秘密
 -或不 -它应该是一个秘密
是的，它可能不应该把你的连接字符串放在那里
它不应该在那里，不要这样做，尽管它在模板中是默认的
但是作为某人 - 让我们来看看模板
但是，作为将应用程序投入使用环境的人员，实际上使用类似这样的东西的一些最常见的事情是什么？
因此，让我们假设可能像某人的电子邮件地址，或者如果我正在撰写博客的主页上的帖子数量，十，无论如何
它可以是任何可以快速切换或更改的设备，您可能想要在配置文件中弹出并更新
有什么关于配置的好处，因为它是可配置的，我们使用的是json，它可能是i文件中的i，它可能是一个XML文件
它可能是某处的数据库
您想要在首页上展示广告的任何一种选项
我只是想着我在我的博客上做的事情，那种东西
因为我认为人们看到他们就是这样，他们认为这很重要
显示消息是一种愚蠢的通用类型的事物
像这些是一些真实世界的例子
是的，就像你在下一个，下一个或其他任何东西之前进行分页，页面大小一样
所以如果我有100个博客发布，也许我的页面大小将是10
这些是你想要在配置文件中的某些东西，然后你可以在你的代码中取出
所以我们要弄清楚如何解决这个问题，好吧
所以让我们回到启动，配置是一项服务
 -是的 -这就像日志记录是一种服务，你有MVC作为服务，所以我们需要确保我们可以注入该服务
这是我们要注入系统的依赖关系
依赖注入你想谈多少？
我将以另外一种方式多说一点
所以现在我们只是假设我们会在稍后深入研究之前给你一点背景知识
所以我会在这里创建一个构造函数，对，我的启动构造函数
系统会自动给我启动构造函数的任何参数
他们将直接注入系统
所以我需要能够拥有IConfiguration，这有点棘手，让我们仔细观察
我要输入IConfiguration，并在最后看到它是如何变得波涛汹涌
 -是的 -我要按Ctrl +点
它给你的选择
它说，呃，你做了其中的一个吗？
还是那个，你是说这个吗？
我们指的是那里
对，实际上有两种选择
您可以添加使用语句
 -可以 -或者充分表达它，就像C：/的路径一样，无论什么，无论什么
这就是IConfiguration的完整路径
这不会使整个程序都可用
我们每次使用它都必须这样做
是啊 - 确实，好点
所以我们会说使用，然后在第8行看这里，所以看看第8行
塔达，是的
所以它会自动下降到那里
因此，Startup，我们的创业班将需要IConfiguration，我们可以调用它，调用配置
然后我们会把它存储起来，因为他们会把它传递给我们，他们会制作一个
这很重要，我们稍后会讨论依赖注入，但是你需要记住的部分是你不需要创建一个，你只需要它
并通过要求它，我们把它作为一个参数
所以我们实际上并不去说新的东西
所以我会说公共IConfiguration，我们可以将其命名为Configuration
是啊这是一个财产
是的，所以有一个进场
进入集合，非常好
然后，我们只是像他们说的那样把它松开
配置=配置
所以他们在我们启动的时候通过它，并且我们坚持在这里，这大概意味着我可以使用它，对吧？
是的，你可以这样做，所以你应该能够从你的页面中使用它
我可以在任何地方使用它
它应该坐在那里，所以我可以在这里，哎呀，我会说这个配置，然后这些都是我们可以做的事情
现在在我的C＃应用​​程序中
我的C＃代码，我在CS的初创公司，但如果我们回到这里，让我们去我们的索引之一，我们的Beyonce RAZOR PAGE
你说我可以直接在这里使用它
是的，但我们需要先注入它
好吧，就这样，注入它，它就可以使用了
嗯
注入是一个激烈的词
我知道
我问了一下，然后他们给了我
是
我认为弹出有点激烈，但 - 
请
所以我会说h2，h2
我可以去说，配置吗？
不，我可以说@Config吗？
是的，你可以，@Config会，是的
但是我不能，因为它还没有被注入
不，你实际上必须有@注入配置
好的，在页面上显示的地方
是的，你需要一个新的指令
我需要另一个指令，我需要注射，好吗？
然后，当我说IConfiguration时，它不会奏效
是的，因为我们仍然需要注入使用声明
我们必须添加使用语句，所以稍后使用，我们将看到如何为每个页面执行此操作，而不必在一页上完成，但我会说使用
然后我会说注入IConfigaration，我们将其称为配置
所以这是要求
-是 -好吧，然后在这里，我可以说配置，我们称之为
我们称之为一大堆事情
我们说消息
-好的-信息
因为它只是一个包，一袋东西
哎呀，我可以在多行上做，我会在一行上完成
好吧，让我们看看是否会中断
这是我积极的态度
 -保持真实 - 是的，让我们看看这是否打破，这是开发者的态度
我认为它会好起来的
让事情变得有趣，然后你就可以解决它们，对吧？-那是真实的
所以这就是我们的Solange页面，让我们看看我们的主页，在这里，这里是来自配置文件的问候
让我们回去改变它
 -到另一个问候？是啊
好吧，所以这是从配置文件中出来的，我们更改了配置文件，并且值发生了变化，我们没有更改代码，好吗？
 -对 -这很酷
不过，值得指出一些事情
首先，我们在RAZOR PAGE中有一个使用声明，就像我们在CS中所做的一样
我在想
我可以这样做吗？
 -它应该是一个点，对吧？
 -对，谢谢
所以完全合格的路径，是的 - 它的工作
那么，它的工作，并没有打破
好的，它工作
 -好吧，它用引号工作
所以这很有趣，我可以退出来，然后我会看到我们如何使配置可用
-是 -我不想
不得不继续添加
总是可以将其添加到您拥有的每一个页面中
是的，我在这里有三行指令，我们有两行HTML，所以这真的很有趣
-是啊 -好吧，所以我认为我们会休息一下，然后我们将毕业到Visual Studio Proper
-是的 -很酷